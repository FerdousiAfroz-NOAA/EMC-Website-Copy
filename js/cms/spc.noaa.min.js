function set_graphics_root(e){graphics_root=e}function set_reports_interval(e){reports_interval=e}function set_plot_times(e){plot_times=e}function set_display_time(e){display_time=e}function set_display_properties(e){display_properties=e}function set_background_field(e){background_field=e}function set_product_availability_group(e){product_availability_group=e}function set_available_runs(e){available_runs=e}function set_latest_available_ft(e,t){latest_available_fts[e]=t}function set_member_viewer(e){is_member_viewer=e}function set_selected_ensemble_member(e){member_selected=e,$("#member_viewer_selector > div").each(function(){$(this).attr("data-ensemble-member").trim()==member_selected?$(this).addClass("selected"):$(this).removeClass("selected")})}function get_latest_available_ft(e){return latest_available_fts[e]}function get_latest_available_ft_display(){return get_latest_available_ft(product_availability_group)}function get_available_run_dates(){var e=[]
for(var t in available_runs)"length"!==t&&available_runs.hasOwnProperty(t)&&($.inArray(t,e)>-1||e.push(t))
return e}function get_last_run(){var e=available_runs[display_properties.rd]||[]
if(e.length>1){e.sort()
var t=e.indexOf(display_properties.rt)
if(t>0)return{rd:display_properties.rd,rt:e[t-1]}}var a=get_available_run_dates()
if(a.length>1){a.sort()
var r=a.indexOf(display_properties.rd)
if(r>0){var i=a[r-1],l=available_runs[i]
if(l.length>0)return l.sort(),l.reverse(),{rd:i,rt:l[0]}}}return!1}function zfill(e,t,a){return a=a||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(a)+e}function copy_obj(e){return JSON.parse(JSON.stringify(e))}function modprops(e,t){var a=copy_obj(e)
return $.each(t,function(e,t){a[e]=t}),a}function sec_to_hm(e){var e=parseInt(e),t=Math.floor(e/3600)
return[t,Math.floor(e-3600*t)/60]}function run_date_components(e){return{year:parseInt(e.substr(0,4)),month:parseInt(e.substr(4,2)),day:parseInt(e.substr(6,2))}}function run_time_components(e){return{hour:parseInt(e.substr(0,2)),minute:parseInt(e.substr(2,2))}}function utc_datetime_from_string(e,t){return t?utc_datetime(run_date_components(e),run_time_components(t)):utc_datetime(run_date_components(e))}function utc_datetime(e,t){return t?new Date(Date.UTC(e.year,e.month-1,e.day,t.hour,t.minute)):new Date(Date.UTC(e.year,e.month-1,e.day))}function get_weekday_name(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e]}function image_url(e){if(!e.field||e.field.length<1)return graphics_root+"/blank_maps/"+e.sector+".png"
var t=sec_to_hm(e.ft),a=t[0],r=t[1],i=e.ensemble_member||!1,l=""
i&&(l="."+i)
var o=run_date_components(e.rd),_=run_time_components(e.rt),s=o.year+"/"+zfill(o.month,2)+"/"+zfill(o.day,2)+"/"+zfill(_.hour,2)+zfill(_.minute,2),n="f"+zfill(a,3)+zfill(r,2)
return graphics_root+"/models/"+e.model+"/"+s+"/"+n+"/"+e.field+"."+e.sector+".f"+zfill(a,3)+zfill(r,2)+l+".png"}function map_url(e){var t=(e.sector,e.postage_stamp||!1),a=e.overlay||!1,r=e.model
return t?graphics_root+"/blank_maps/"+e.sector+".ps."+r+".png":a?graphics_root+"/blank_maps/"+e.sector+"."+e.overlay+".png":graphics_root+"/blank_maps/"+e.sector+".png"}function outlook_overlay_url(e){var t=e.sector,a=e.center||"spc",r=e.date,i=e.time,l=e.period,o=e.product,_=r.getUTCFullYear(),s=r.getUTCMonth()+1,n=r.getUTCDate(),p=_+zfill(s,2)+zfill(n,2)
return graphics_root+"/outlooks/"+a+"/"+_+"/"+zfill(s,2)+"/"+zfill(n,2)+"/"+o+"."+p+"."+i+"."+l+"."+t+".png"}function reports_overlay_url(e){var t=e.sector,a=e.dt,r=e.duration||24,i=e.type,l=a.getUTCFullYear(),o=a.getUTCMonth()+1,_=a.getUTCDate(),s=a.getUTCHours(),n=zfill(l,4)+zfill(o,2)+zfill(_,2)+zfill(s,2)
return graphics_root+"/reports/"+l+"/"+zfill(o,2)+"/"+zfill(_,2)+"/"+i+"."+n+"."+zfill(r,3)+"h."+t+".png"}function page_url(e){return"index.php?"+$.param(e)}function outlook_to_display(e,t){var a=run_date_components(display_properties.rd),r=run_time_components(display_properties.rt),i=r.hour,l=e.product,o=new Date(Date.UTC(a.year,a.month-1,a.day))
new Date(o.getTime()-864e5)
return"fire"==l?0==i?t>=43200&&outlook_overlay_url(modprops(e,{period:"DY1",date:o,time:"0700"})):t<=86400&&outlook_overlay_url(modprops(e,{period:"DY1",date:o,time:"1700"})):outlook_overlay_url(0==i?t<=43200?modprops(e,{period:"DY1",date:o,time:"0100"}):modprops(e,{period:"DY1",date:o,time:"1200"}):t<=86400?modprops(e,{period:"DY1",date:o,time:"1300"}):modprops(e,{period:"DY2",date:o,time:"0700"}))}function set_plot_time(e){display_time=parseInt(e)
for(var t=plot_times.indexOf(display_time),a=0;a<underlays_shown.length;a++){var r=underlay_images_series[a][t]
$("#display_layer_underlay_"+a).attr("src",r)}var i=background_images[t]
$("#display_layer_background").attr("src",i)
for(var a=0;a<overlays_shown.length;a++){var r=overlay_images_series[a][t]
$("#display_layer_overlay_"+a).attr("src",r)}for(var a=0;a<supplemental_images_series.length;a++){var r=supplemental_images_series[a][t]
$("#display_layer_supplemental_"+a).attr("src",r)}$("#ft > .ft_time").each(function(){parseInt($(this).attr("id").substring(3))==e?$(this).addClass("ft_time_selected"):$(this).removeClass("ft_time_selected")})}function set_gis_images(e){gis_images=e,$("#display_frame .gis_overlay").remove()
for(var t=0;t<gis_images.length;t++){var a=gis_images[t]
$("#display_frame").append('<img id="gis_overlay_'+t+'" class="map_image gis_overlay" style="z-index: '+(400+t)+';" alt="" src="'+a+'" />')}}function set_underlay_layers(e){underlays_shown=e,underlay_images_series=[],$("#display_frame .map_underlay").remove()
for(var t=0;t<underlays_shown.length;t++){for(var a=copy_obj(underlays_shown[t]),r=[],i=0;i<plot_times.length;i++)if(a.ft=plot_times[i],!(a.ft>get_latest_available_ft_display())){var l=image_url(modprops(display_properties,a))
r.push(l)}preload_image_list(r),underlay_images_series.push(r),$("#display_frame").append($("<img/>",{id:"display_layer_underlay_"+t,"data-field":a.field,"data-ensemble-member":a.ensemble_member,class:"map_image map_underlay",style:"z-index: "+(200+t),alt:""}))}set_plot_time(display_time)}function set_overlay_layers(e){$("#display_frame .map_overlay").remove(),overlays_shown=e,overlay_images_series=[]
for(var t=0;t<overlays_shown.length;t++){for(var a=copy_obj(overlays_shown[t]),r=[],i=0;i<plot_times.length;i++)if(a.ft=plot_times[i],!(a.ft>get_latest_available_ft_display())){var l=image_url(modprops(display_properties,a))
r.push(l)}preload_image_list(r),overlay_images_series.push(r),$("#display_frame").append($("<img/>",{id:"display_layer_overlay_"+t,"data-field":a.field,"data-ensemble-member":a.ensemble_member,class:"map_image map_overlay",style:"z-index: "+(500+t),alt:""}))}set_plot_time(display_time)}function set_supplemental_layers(e){$("#display_frame .map_supplemental").remove(),supplemental_images_series=[],outlooks_shown=e.outlooks
for(var t=0,a=0;a<outlooks_shown.length;a++){for(var r=copy_obj(outlooks_shown[a]),i=[],l=0;l<plot_times.length;l++){var o=plot_times[l]
o>get_latest_available_ft_display()||(d=outlook_to_display({sector:display_properties.sector,product:r.product},o),d||(d=graphics_root+"/blank_pixel.png"),i.push(d))}preload_image_list(i),supplemental_images_series.push(i)
var _=600+a
$("#display_frame").append('<img id="display_layer_supplemental_'+t+'" class="map_image map_supplemental" style="z-index: '+_+';" alt="" />'),t++}reports_shown=e.reports
for(var s=run_date_components(display_properties.rd),n=run_time_components(display_properties.rt),a=0;a<reports_shown.length;a++){for(var p=copy_obj(reports_shown[a]),i=[],l=0;l<plot_times.length;l++){var o=plot_times[l]
if(!(o>get_latest_available_ft_display())){p.duration=reports_interval,p.sector=display_properties.sector,p.dt=new Date(Date.UTC(s.year,s.month-1,s.day,n.hour,n.minute)+1e3*parseInt(o))
var d=reports_overlay_url(p)
d||(d=graphics_root+"/blank_pixel.png"),i.push(d)}}preload_image_list(i),supplemental_images_series.push(i)
var _=620+a
"tornado"==p.type&&(_+=5),$("#display_frame").append('<img id="display_layer_supplemental_'+t+'" class="map_image map_supplemental" style="z-index: '+_+';" alt="" />'),t++}set_plot_time(display_time)}function update_gis_layers(){new_gis_images=[],$("#gis_overlays_form input").each(function(){if($(this).attr("data-filename")&&$(this).is(":checked")){var e=map_url(modprops(display_properties,{overlay:$(this).attr("data-filename")}))
new_gis_images.push(e)}}),set_gis_images(new_gis_images)}function update_supplemental_layers(){var e=[]
e.reports=[],e.outlooks=[],$("#verification_overlays_form input").each(function(){if($(this).attr("data-type")&&$(this).is(":checked")){var t={type:$(this).attr("data-type")}
e.reports.push(t)}}),$("#forecast_overlays_form input").each(function(){if($(this).attr("data-product")&&$(this).is(":checked")){var t={product:$(this).attr("data-product"),sector:display_properties.sector}
e.outlooks.push(t)}}),set_supplemental_layers(e)}function update_product_layers(){for(var e=$("#product_overlays").sortable("toArray"),t=[],a=0;a<e.length;a++){var r=$("#"+e[a]).attr("data-field"),i=$("#"+e[a]).attr("data-member")||!1,l="",o=""
if(r&&(l='[data-field="'+r+'"]'),i&&(o='[data-member="'+i+'"]'),$("input"+l+o).is(":checked")){var _={field:r,ensemble_member:i}
t.push(_)}}if(is_member_viewer)n=[{field:background_field.field,ensemble_member:member_selected}]
else for(var s=$("#product_underlays").sortable("toArray"),n=[],a=0;a<s.length;a++){var p=$("#"+s[a]).attr("data-field"),d=$("#"+s[a]).attr("data-member")||!1,l="",o=""
if(p&&(l='[data-field="'+p+'"]'),d&&(o='[data-member="'+d+'"]'),$("input"+l+o).is(":checked")){var m={field:p,ensemble_member:d}
n.push(m)}}t.reverse(),n.reverse(),set_underlay_layers(n),set_overlay_layers(t)}function next_plot_time(e){var e=e||!1
e||$("#ft_loop_next").stop().animate({"background-color":"#cce5ff"},1).animate({"background-color":"#fff"},1e3)
var t=plot_times.indexOf(display_time),a=plot_times[t+1]
return t>-1&&t<plot_times.length-1&&a<=get_latest_available_ft_display()&&(set_plot_time(a),a)}function previous_plot_time(){$("#ft_loop_prev").stop().animate({"background-color":"#cce5ff"},1).animate({"background-color":"#fff"},1e3)
var e=plot_times.indexOf(display_time)
if(e>0){var t=plot_times[e-1]
return set_plot_time(t),t}return!1}function toggle_loop(){$("#ft_loop_play").stop().animate({"background-color":"#cce5ff"},1).animate({"background-color":"#fff"},1e3),loop_is_playing?(pause_loop(),$("#ft_loop_play").empty(),$("#ft_loop_play").html("&#9658;")):(play_loop(),$("#ft_loop_play").empty(),$("#ft_loop_play").html("||"))}function advance_loop(){!1===next_plot_time(!0)&&(clearInterval(loop_play_action),loop_play_timeout=setTimeout(restart_loop,2e3))}function restart_loop(){clearInterval(loop_play_action),clearTimeout(loop_play_timeout),set_plot_time(plot_times[0]),play_loop()}function play_loop(){clearTimeout(loop_play_timeout),loop_play_action=setInterval(advance_loop,loop_interval),loop_is_playing=!0}function pause_loop(){clearInterval(loop_play_action),clearTimeout(loop_play_timeout),loop_is_playing=!1}function loop_speed_up(){var e=loop_available_intervals.indexOf(loop_interval)
loop_interval=loop_available_intervals[Math.min(e+1,loop_available_intervals.length-1)],loop_is_playing&&(pause_loop(),play_loop()),update_speed_value()}function loop_speed_down(){var e=loop_available_intervals.indexOf(loop_interval)
loop_interval=loop_available_intervals[Math.max(e-1,0)],loop_is_playing&&(pause_loop(),play_loop()),update_speed_value()}function update_speed_value(){var e=loop_available_intervals.indexOf(loop_interval)
$("#ft_loop_speed_value").html(e+1)}function next_ensemble_member(){var e=get_available_ensemble_members(),t=e.indexOf(member_selected)
t<e.length-1&&set_selected_ensemble_member(e[t+1]),update_product_layers()}function previous_ensemble_member(){var e=get_available_ensemble_members(),t=e.indexOf(member_selected)
t>0&&set_selected_ensemble_member(e[t-1]),update_product_layers()}function get_available_ensemble_members(){var e=[]
return $("#member_viewer_selector > div").each(function(){e.push($(this).attr("data-ensemble-member").trim())}),e}function bind_keys(e){$(document).keydown(function(t){for(var a=0;a<e.length;a++){var r=e[a].nohold||!1
if(!(t.which!=e[a].keycode||r&&keycodes_currently_pressed.has(t.which))){keycodes_currently_pressed.add(t.which);(0,e[a].keydown)()}}}),$(document).keyup(function(t){keycodes_currently_pressed.delete(t.which)
for(var a=0;a<e.length;a++)if(t.which==e[a].keycode){var r=e[a].keyup||!1
r&&r()}})}function bind_page_events(){$("#products").change(function(){window.location.href=page_url(modprops(display_properties,{product:$(this).val()}))}),$("#sectors").change(function(){window.location.href=page_url(modprops(display_properties,{sector:$(this).val()}))}),$("#rts").change(function(){window.location.href=page_url(modprops(display_properties,{rt:$(this).val()}))}),$("#models").change(function(){window.location.href=page_url(modprops(display_properties,{model:$(this).val()}))}),$("#product_overlays_form").trigger("reset"),$("#product_underlays_form").trigger("reset"),$("#gis_overlays_form").trigger("reset"),$("#forecast_overlays_form").trigger("reset"),$("#verification_overlays_form").trigger("reset"),$("#ft > div").on("click mouseover",function(){var e=$(this).attr("id").substr(3)
e<=get_latest_available_ft_display()&&set_plot_time(e)}),$("#product_layers input").change(function(){update_product_layers(),$(this).is(":checked")?$(this).parent().removeClass("field_li_off"):$(this).parent().addClass("field_li_off")}),$("#display_frame").on("contextmenu",function(e){return $("#save_dialog").css({top:e.pageY+"px",left:e.pageX+"px"}),$("#save_dialog").fadeIn(250),!1}),$(document).click(function(e){$(e.target).closest("#save_dialog").length||$("#save_dialog").fadeOut(250)}),$("#save_link").click(function(){var e=[]
$("#display_frame > img").each(function(){e.push({id:$(this).attr("id"),zi:$(this).css("z-index")})}),e.sort(function(e,t){return parseInt(e.zi)-parseInt(t.zi)})
var t=$("#"+e[0].id).width(),a=$("#"+e[0].id).height()
$("#graphic_canvas").attr("width",t),$("#graphic_canvas").attr("height",a)
for(var r=0;r<e.length;r++){var i=$("#"+e[r].id).attr("src")
$("#graphic_canvas").drawImage({source:i,x:0,y:0,fromCenter:!1})}var l=sec_to_hm(display_time),o=zfill(l[0],3),_=zfill(l[1],2),s=display_properties.product+"."+display_properties.sector+".f"+o+_+".png"
$("#save_link").attr("download",s),$("#save_link").attr("href",$("#graphic_canvas").getCanvasImage("png"))}),$("#gis_overlays_form input").change(function(){update_gis_layers()}),$("#forecast_overlays_form input").change(function(){update_supplemental_layers()}),$("#verification_overlays_form input").change(function(){update_supplemental_layers()}),$("#members_table_toggle").click(function(){$("#config_pane").toggle()}),$("#config_pane_close").click(function(){$("#config_pane").hide()}),$("#member_viewer_selector > div").on("click mouseover",function(){set_selected_ensemble_member($(this).attr("data-ensemble-member").trim()),update_product_layers()}),$("#ft_loop_prev").click(function(){previous_plot_time()}),$("#ft_loop_next").click(function(){next_plot_time()}),$("#ft_loop_play").click(function(){toggle_loop()}),$("#ft_loop_speeddown").click(function(){loop_speed_down()}),$("#ft_loop_speedup").click(function(){loop_speed_up()})}function preload_image_list(e,t){for(var a=!0,r=0;r<e.length;r++){var i=e[r]
if(!preloaded_image_urls.has(i)){preloaded_image_urls.add(i)
$("#pl_container").append($("<img/>",{src:i,class:"preload_image"}).load(function(){preloaded_count+=1,$(this).get(0).naturalWidth<10&&(a=!1)}).error(function(){preloaded_count+=1,a=!1}))}}preload_interval_active||(preload_interval_active=!0,preload_message_interval=setInterval(function(){$("#preload_message").show(),$("#preload_message_bar").css("width",preloaded_count/$(".preload_image").length*200+"px"),preloaded_count==$(".preload_image").length&&(clearInterval(preload_message_interval),$("#preload_message").hide(),preload_interval_active=!1,"function"==typeof t&&t(a))},100))}function populate_background_images(){for(var e=0;e<plot_times.length;e++)if(!(plot_times[e]>get_latest_available_ft_display())){var t=image_url(modprops(display_properties,{field:background_field.field,ft:plot_times[e]}))
background_images.push(t)}preload_image_list(background_images)}function init_display_pane(){var e=graphics_root+"/spc_white_1050px.png",t=graphics_root+"/noaa_overlay_1050px.png"
$("#display_frame").append('<img class="map_image" id="display_layer_logo" src="'+e+'" style="z-index: 100;" />'),$("#display_frame").append('<img class="map_image" id="display_layer_noaa_overlay" src="'+t+'" style="z-index: 900;" />'),$("#display_frame").append('<img class="map_image" id="display_layer_background" style="z-index: 300;" />')
var a=map_url(display_properties)
$("#display_frame").append('<img class="map_image" id="display_layer_map" src="'+a+'" style="z-index: 500;" />')}function init_product_sortable(){$("#product_overlays").sortable({update:function(){update_product_layers()}}),$("#product_underlays").sortable({update:function(){update_product_layers()}})}function init_product_links(){$(".product_category a.product_link").each(function(){var e=($(this).attr("data-product"),$(this).attr("data-product-availability-group")),t=$(this).attr("data-firstft")||-999,a=!1
get_latest_available_ft(e)>=t&&(a=!0),a?$(this).attr("href",page_url(modprops(display_properties,{product:$(this).attr("data-product")}))):$(this).addClass("product_link_unavailable")})}function init_run_calendar(){var e=display_properties.rd,t=get_available_run_dates()
t.sort()
var a=run_date_components(t[0]),r=run_date_components(t[t.length-1])
$("#run_date").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,minDate:new Date(a.year,a.month-1,a.day),maxDate:new Date(r.year,r.month-1,r.day),onSelect:function(e){var t=e.substring(0,4)+e.substring(5,7)+e.substring(8,10)
window.location.href=page_url(modprops(display_properties,{rd:t}))},beforeShowDay:function(e){return thisdate=e.getFullYear()+""+zfill(e.getMonth()+1,2)+zfill(e.getDate(),2),$.inArray(thisdate,t)>-1?[!0,"","Available"]:[!1,"","unAvailable"]}}),$("#run_date").datepicker("setDate",e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8))}function shade_toggle_field_options(){$(".overlay_option, .underlay_option").each(function(){$(this).is(":checked")?$(this).parent().removeClass("field_li_off"):$(this).parent().addClass("field_li_off")})}function toggle_header(){$("#top_homepage_link_container").toggle(300),$("#selection_bar").toggle(300),$("#products_bar").toggle(300)}function write_ft_bar(){for(var e=utc_datetime_from_string(display_properties.rd,display_properties.rt),t=[],a=0;a<plot_times.length;a++){var r={},i=plot_times[a],l=zfill(i/3600,2),o=new Date(e.getTime()+1e3*i),_=o.getUTCHours(),s=(o.getUTCMinutes(),get_weekday_name(o.getUTCDay())),n=0==o.getUTCHours()&&0==o.getUTCMinutes(),p=n||0==a,d=zfill(_,2)
r.ft=i,r.display_ft=l,r.is_newday=n,r.needs_date_label=p,r.display_time=d,r.weekday=s,r.monthday=o.getUTCMonth()+1+"/"+o.getUTCDate(),t.push(r)}for(var a=0;a<t.length;a++){var m=t[a],u="ft_"+m.ft
if($("#ft").append('<div id="'+u+'" class="ft_time" data-ft="'+m.ft+'" data-ft-index="'+a+'">'+m.display_time+"</div>"),$("#"+u).append('<div class="ft_f_label">F'+m.display_ft+"</div>"),m.is_newday&&($("#"+u).addClass("ft_new_day"),$("#"+u).append('<div class="ft_new_day_top"></div>')),m.needs_date_label){for(var c=!0,f=a+1;f<Math.min(t.length,a+3);f++)t[f].needs_date_label&&(c=!1)
date_label_text=c?m.weekday+" "+m.monthday:m.weekday,$("#"+u).append('<div class="date_label">'+date_label_text+"</div>")}}update_ft_bar_availability()}function update_ft_bar_availability(){$("#ft > div").each(function(){$(this).attr("data-ft")>get_latest_available_ft_display()&&$(this).addClass("ft_time_unavailable")})}function show_lastrun_product(){if(loop_is_playing)return!1
peeking_at_old_run=!0
var e=get_last_run(),t={rd:display_properties.rd,rt:display_properties.rt}
if(!e)return $("#load_error_message ").show(),$("#load_error_message").fadeOut(2e3),!1
var a=utc_datetime_from_string(e.rd,e.rt),r=utc_datetime_from_string(t.rd,t.rt),i=(r.getTime()-a.getTime())/1e3,l=parseInt(display_time)+parseInt(i),o=[],_=image_url(modprops(display_properties,{rd:e.rd,rt:e.rt,ft:l,field:background_field.field}))
o.push(_),$("#display_frame .map_overlay, #display_frame .map_underlay").each(function(){var t=$(this).attr("data-field"),a=$(this).attr("data-ensemble-member")
"false"==a&&(a=!1)
var r=image_url(modprops(display_properties,{rd:e.rd,rt:e.rt,ft:l,field:t,ensemble_member:a}))
o.push(r)}),preload_image_list(o,function(t){if(!t||!peeking_at_old_run)return show_current_product(),t||($("#load_error_message ").show(),$("#load_error_message").fadeOut(2e3)),!1
$("#display_layer_background").attr("src",_).error(function(){return show_current_product(),!1}),$("#display_frame .map_overlay, #display_frame .map_underlay").each(function(){var t=$(this).attr("data-field"),a=$(this).attr("data-ensemble-member")
"false"==a&&(a=!1)
var r=image_url(modprops(display_properties,{rd:e.rd,rt:e.rt,ft:l,field:t,ensemble_member:a}))
$(this).attr("src",r)}),$("#ft > .ft_time_selected").each(function(){$(this).addClass("ft_time_dprogdt")})})}function show_current_product(){peeking_at_old_run=!1,set_plot_time(display_time),$("#ft > .ft_time_dprogdt").each(function(){$(this).removeClass("ft_time_dprogdt")})}function preload_member_viewer_all(){for(var e=get_available_ensemble_members(),t=0;t<e.length;t++){for(var a=e[t],r=modprops(display_properties,{ensemble_member:a,field:background_field.field}),i=[],l=0;l<plot_times.length;l++)if(r.ft=plot_times[l],!(r.ft>get_latest_available_ft_display())){var o=image_url(r)
i.push(o)}preload_image_list(i)}}var graphics_root="",keycodes_currently_pressed=new Set,plot_times=[],loop_play_action,loop_play_timeout,loop_is_playing=!1,loop_available_intervals=[2e3,800,320,160,60],loop_interval=loop_available_intervals[2],display_time,display_properties,peeking_at_old_run=!1,available_runs=[],latest_available_fts={},product_availability_group,background_field={},underlays_shown=[],overlays_shown=[],outlooks_shown=[],reports_shown=[],is_member_viewer=!1,member_selected=!1,underlay_images_series=[],overlay_images_series=[],supplemental_images_series=[],background_images=[],gis_images=[],reports_interval=24,preloaded_image_urls=new Set,preloaded_count=0,preload_interval_active=!1
