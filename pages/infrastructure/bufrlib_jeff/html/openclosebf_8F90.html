<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bufr: openclosebf.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-bufr
   &#160;<span id="projectnumber">12.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('openclosebf_8F90.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">openclosebf.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Open or close a file to the library.  
<a href="#details">More...</a></p>

<p><a href="openclosebf_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a48a49bb82348400c1ba6af00c0138ab3"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="openclosebf_8F90.html#a48a49bb82348400c1ba6af00c0138ab3">closbf</a> (lunit)</td></tr>
<tr class="memdesc:a48a49bb82348400c1ba6af00c0138ab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the connection between logical unit lunit and the NCEPLIBS-bufr software.  <a href="openclosebf_8F90.html#a48a49bb82348400c1ba6af00c0138ab3">More...</a><br /></td></tr>
<tr class="separator:a48a49bb82348400c1ba6af00c0138ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa585324fae3ecf559d6f39507dde6715"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="openclosebf_8F90.html#aa585324fae3ecf559d6f39507dde6715">fortran_close</a> (lunit, iret)</td></tr>
<tr class="memdesc:aa585324fae3ecf559d6f39507dde6715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a Fortran file on the local system.  <a href="openclosebf_8F90.html#aa585324fae3ecf559d6f39507dde6715">More...</a><br /></td></tr>
<tr class="separator:aa585324fae3ecf559d6f39507dde6715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80df0d62e629b094edd2b3682a7d9e3a"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="openclosebf_8F90.html#a80df0d62e629b094edd2b3682a7d9e3a">fortran_open</a> (filename, lunit, format, position, iret)</td></tr>
<tr class="memdesc:a80df0d62e629b094edd2b3682a7d9e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a Fortran file on the local system.  <a href="openclosebf_8F90.html#a80df0d62e629b094edd2b3682a7d9e3a">More...</a><br /></td></tr>
<tr class="separator:a80df0d62e629b094edd2b3682a7d9e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc7e4fb476a5528a958ee132ee6392d"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d">openbf</a> (lunit, io, lundx)</td></tr>
<tr class="memdesc:a9dc7e4fb476a5528a958ee132ee6392d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the library without connecting to a file, or change the verbosity of the library for an already-connected BUFR file.  <a href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d">More...</a><br /></td></tr>
<tr class="separator:a9dc7e4fb476a5528a958ee132ee6392d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeef6f5d08d9631dbe92c1821a9d02903"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="openclosebf_8F90.html#aeef6f5d08d9631dbe92c1821a9d02903">posapx</a> (lunxx)</td></tr>
<tr class="memdesc:aeef6f5d08d9631dbe92c1821a9d02903"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position an output BUFR file for appending.  <a href="openclosebf_8F90.html#aeef6f5d08d9631dbe92c1821a9d02903">More...</a><br /></td></tr>
<tr class="separator:aeef6f5d08d9631dbe92c1821a9d02903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abceda08f9c29378d3ddadeb46e823d00"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status</a> (lunit, lun, il, im)</td></tr>
<tr class="memdesc:abceda08f9c29378d3ddadeb46e823d00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a specified Fortran logical unit number is currently connected to the NCEPLIBS-bufr software.  <a href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">More...</a><br /></td></tr>
<tr class="separator:abceda08f9c29378d3ddadeb46e823d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac1b87fbbb688e4f5e2120012eaee382"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="openclosebf_8F90.html#aac1b87fbbb688e4f5e2120012eaee382">ufbcnt</a> (lunit, kmsg, ksub)</td></tr>
<tr class="memdesc:aac1b87fbbb688e4f5e2120012eaee382"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current location of the file pointer within a BUFR file, in terms of a message number counting from the beginning of the file, and a data subset number counting from the beginning of that message.  <a href="openclosebf_8F90.html#aac1b87fbbb688e4f5e2120012eaee382">More...</a><br /></td></tr>
<tr class="separator:aac1b87fbbb688e4f5e2120012eaee382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4363a068f7df043d75b4519c55142f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="openclosebf_8F90.html#ada4363a068f7df043d75b4519c55142f">wtstat</a> (lunit, lun, il, im)</td></tr>
<tr class="memdesc:ada4363a068f7df043d75b4519c55142f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update file status in library internals.  <a href="openclosebf_8F90.html#ada4363a068f7df043d75b4519c55142f">More...</a><br /></td></tr>
<tr class="separator:ada4363a068f7df043d75b4519c55142f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Open or close a file to the library. </p>
<dl class="section author"><dt>Authors</dt><dd>J. Woollen, J. Ator, D. Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition in file <a class="el" href="openclosebf_8F90_source.html">openclosebf.F90</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a48a49bb82348400c1ba6af00c0138ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48a49bb82348400c1ba6af00c0138ab3">&#9670;&nbsp;</a></span>closbf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine closbf </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the connection between logical unit lunit and the NCEPLIBS-bufr software. </p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>This subroutine will execute a Fortran "CLOSE" on logical unit lunit, even though subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a> didn't previously handle the corresponding Fortran "OPEN" of the same file.</li>
<li>It's a good idea to call this subroutine for every lunit that was opened to the software via <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>; however, it's especially important to do so when writing/encoding a BUFR file, in order to ensure that all output is properly flushed to lunit.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen, J. Ator </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="openclosebf_8F90_source.html#l00337">337</a> of file <a class="el" href="openclosebf_8F90_source.html">openclosebf.F90</a>.</p>

<p class="reference">References <a class="el" href="readwritemg_8F90.html#a63b37b74d9833df9d99e3937a2fa293a">closmg()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__nulbfr.html#a1b6c0eaf2305df7abddd8c6c66723526">moda_nulbfr::null</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="openclosebf_8F90.html#ada4363a068f7df043d75b4519c55142f">wtstat()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

<p class="reference">Referenced by <a class="el" href="apxdx_8F90.html#ae072f0fa8326c098de4e6dfe2deef450">apxdx()</a>, <a class="el" href="namespacebufr__c2f__interface.html#a3ac93c0105f2d2e934b5fa1f6581c02d">bufr_c2f_interface::closbf_c()</a>, <a class="el" href="copydata_8F90.html#a6df688983642d7845688aba3819c847e">copybf()</a>, <a class="el" href="s013vals_8F90.html#a311f8836440703db774ee651425337b4">datebf()</a>, <a class="el" href="s013vals_8F90.html#ac2e40c9d462d2855dd693d9498f55342">dumpbf()</a>, <a class="el" href="arallocf_8F90.html#a355f094d616febcea2820cf547cbff8e">exitbufr()</a>, <a class="el" href="gettab_8F90.html#ac9eda42ec8bf46baae0a4f34cd517813">gettab()</a>, <a class="el" href="mesgbc_8f.html#a94b2ff31250eb562ee4fe3c5c231e98b">mesgbc()</a>, <a class="el" href="mesgbf_8f.html#a01bf48e41499c9083c3c651d1dd1ee20">mesgbf()</a>, <a class="el" href="split__by__subset_8F90.html#ae5d45e2086aa783d8ca85e2fd47c8118">split_by_subset()</a>, <a class="el" href="ufbinx_8f.html#a4014acd8639acf687abe1cd69efad1d4">ufbinx()</a>, <a class="el" href="memmsgs_8F90.html#a4959c5f16b679cf4f90b2d5dcfe74247">ufbmem()</a>, <a class="el" href="memmsgs_8F90.html#a9072ba79bf636849068780fa6467282c">ufbmex()</a>, and <a class="el" href="ufbtab_8f.html#a5e4e72f944670059a938e246717e5ad9">ufbtab()</a>.</p>

</div>
</div>
<a id="aa585324fae3ecf559d6f39507dde6715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa585324fae3ecf559d6f39507dde6715">&#9670;&nbsp;</a></span>fortran_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine fortran_close </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a Fortran file on the local system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for Fortran file </td></tr>
    <tr><td class="paramname">iret</td><td>- return code from the Fortran close statement</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Jeff Whitaker </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2015-08-30 </dd></dl>

<p class="definition">Definition at line <a class="el" href="openclosebf_8F90_source.html#l00048">48</a> of file <a class="el" href="openclosebf_8F90_source.html">openclosebf.F90</a>.</p>

<p class="reference">References <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="a80df0d62e629b094edd2b3682a7d9e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80df0d62e629b094edd2b3682a7d9e3a">&#9670;&nbsp;</a></span>fortran_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine fortran_open </td>
          <td>(</td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a Fortran file on the local system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>- name of the file to be opened </td></tr>
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for Fortran file </td></tr>
    <tr><td class="paramname">format</td><td>- format of the Fortran file </td></tr>
    <tr><td class="paramname">position</td><td>- to rewind or continue with open file </td></tr>
    <tr><td class="paramname">iret</td><td>- return code from the Fortran open statement</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Jeff Whitaker </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2015-08-30 </dd></dl>

<p class="definition">Definition at line <a class="el" href="openclosebf_8F90_source.html#l00015">15</a> of file <a class="el" href="openclosebf_8F90_source.html">openclosebf.F90</a>.</p>

<p class="reference">References <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="a9dc7e4fb476a5528a958ee132ee6392d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc7e4fb476a5528a958ee132ee6392d">&#9670;&nbsp;</a></span>openbf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine openbf </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lundx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the library without connecting to a file, or change the verbosity of the library for an already-connected BUFR file. </p>
<p>The logical unit numbers lunit and lundx must already be associated with actual filenames on the local system, typically via a Fortran "OPEN" statement. Multiple logical units can be connected to the NCEPLIBS-bufr software at any one time.</p>
<p>The argument io is a character string describing how the file connected to lunit will be used, e.g. 'IN' is used to access an existing file of BUFR messages for input (i.e. reading/decoding BUFR), and 'OUT' is used to access a new file for output (i.e. writing/encoding BUFR). An option 'APX' is also available which behaves like 'OUT', except that output is then appended to an existing BUFR file rather than creating a new one from scratch, and there are also some additional options 'NUL' and 'NODX' which can likewise be used instead of 'OUT' for some very special cases as needed. There's also an option 'SEC3' which can be used in place of 'IN' for certain cases when the user is attempting to read BUFR messages whose content and descriptor layout are unknown in advance. However, all of these additional options are basically just variations of 'IN' or 'OUT', again depending on whether the intent is to read or write BUFR messages from the file connected to lunit. The only exceptions are when io = 'FIRST' or 'QUIET'. When io = 'FIRST', the subroutine simply checks whether it has already been called from within the application program and, if not, goes ahead and initializes the library without actually connecting any files in lunit or lundx.</p>
<p>Alternatively, when io = 'QUIET', the subroutine simply sets or resets the internal print verbosity switch to the value of input argument lundx, overriding its previous value and/or its internal default value of 0.</p>
<p>The third and final call argument lundx identifies the logical unit which contains the definition of the DX BUFR tables to be associated with unit lunit. Except when io = 'SEC3', every BUFR file that is linked to the NCEPLIBS-bufr software must have a DX BUFR tables file associated with it, and these tables may be defined within a separate ASCII text file (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#dfbftab">Description and Format of DX BUFR Tables</a> for more info.) or, in the case of an existing BUFR file, may be embedded within the first few BUFR messages of the file itself, and in which case the user can denote this to the subroutine by setting lundx to the same value as lunit.</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>When an existing BUFR file is accessed for input (i.e. reading/decoding BUFR), the associated DX BUFR tables defined by lundx are stored internally within the NCEPLIBS-bufr software and are referenced during all subsequent processing of the file. Likewise, when a file is accessed for output (i.e. writing/encoding BUFR), the associated DX BUFR tables are still stored internally for subsequent reference; however, the output file itself is also initialized by writing the BUFR table information (as one or more BUFR messages) to the beginning of the file, except when io = 'NODX', and in which case the writing of these additional messages is suppressed.</li>
<li>As noted above, 'SEC3' is the only value of io (other than 'FIRST' or 'QUIET') where it's not necessary to provide pre-defined DX BUFR tables via lundx. Instead, this option instructs the NCEPLIBS-bufr software to unpack the data description section (Section 3) from each BUFR message it reads and then decode the contents accordingly. In this case, it's necessary to provide a set of BUFR master tables containing listings of all possible BUFR descriptors (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_master_tables.html#dfbfmstab">Description and Format of master BUFR Tables</a> for more info.), but otherwise no prior knowledge is required of the contents of the messages to be decoded.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file (unless io is set to 'FIRST' or 'QUIET', in which case this is a dummy argument) </td></tr>
    <tr><td class="paramname">io</td><td>- flag indicating how lunit is to be used by the software:<ul>
<li>'IN' = input operations with table processing</li>
<li>'INX' = input operations w/o table processing</li>
<li>'OUX' = output operations w/o table processing</li>
<li>'OUT' = output operations with table processing</li>
<li>'SEC3' = same as 'IN', except use Section 3 of input messages for decoding rather than DX BUFR table information from lundx; in this case lundx is ignored, and the user must provide appropriate <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_master_tables.html#dfbfmstab">master BUFR tables</a> within the directory specified by a subsequent call to subroutine <a class="el" href="mastertable_8F90.html#abf69490965212318f1dfee9b0bc4890c" title="Specify the directory location and Fortran logical unit numbers to be used when reading master BUFR t...">mtinfo()</a></li>
<li>'NODX' = same as 'OUT', except don't write DX BUFR table messages to lunit</li>
<li>'APN' = same as 'NODX', except begin writing at end of file ("append")</li>
<li>'APX' = same as 'APN', except backspace before appending</li>
<li>'NUL' = same as 'OUT', except don't write any messages whatsoever to lunit (e.g. when subroutine <a class="el" href="readwritesb_8F90.html#a4b62a40d2c2860279670bf59a68e8204" title="Write a complete data subset into a BUFR message, and return each completed message within a memory a...">writsa()</a> is to be used)</li>
<li>'INUL' = same as 'IN', except don't read any messages whatsoever from lunit (e.g. when subroutine <a class="el" href="readwritemg_8F90.html#aa2a7bf49cad422b474a24edd3a1cb232" title="Read a BUFR message from a memory array.">readerme()</a> is to be used)</li>
<li>'QUIET' = lunit is ignored; this is an indicator that the value for iprt in common block /quiet/ is being reset to the value in lundx</li>
<li>'FIRST' = lunit and lundx are ignored; this is an indicator to initialize the NCEPLIBS-bufr software, in case this subroutine was never previously called </li>
</ul>
</td></tr>
    <tr><td class="paramname">lundx</td><td>- Fortran logical unit number containing DX BUFR table information, except as noted below:<ul>
<li>If io is not set to 'FIRST' or 'QUIET' = Fortran logical unit number containing DX BUFR table information to be used in reading/writing from/to lunit (depending on the case); this value may be set equal to lunit if DX BUFR table information is already embedded in lunit</li>
<li>If io is set to 'QUIET' = indicator for degree of printout:<ul>
<li>-1 = no printout except for ABORT messages</li>
<li>0 = limited printout (default)</li>
<li>1 = all warning messages are printed</li>
<li>2 = all warning and info messages are printed</li>
<li>3 = all warning, info and debug messages are printed</li>
</ul>
</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Authors</dt><dd>J. Woollen, J. Ator, D. Keyser </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="openclosebf_8F90_source.html#l00168">168</a> of file <a class="el" href="openclosebf_8F90_source.html">openclosebf.F90</a>.</p>

<p class="reference">References <a class="el" href="arallocf_8F90.html#a2b64630033a9306be25da1f6b28d913f">arallocf()</a>, <a class="el" href="bfrini_8F90.html#ab3f045cc170403305543e34e30b87001">bfrini()</a>, <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__msgcwd.html#a37df9d6a60023612be784db0b759da3b">moda_msgcwd::idate</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__sc3bfr.html#ac3bbd45f25c8071e161bf7898230695a">moda_sc3bfr::isc3</a>, <a class="el" href="namespacemoda__stcode.html#a81b647a972ded879adf10cb98bfaab2e">moda_stcode::iscodes</a>, <a class="el" href="namespacemoda__lushr.html#a3baea9191da6d91a8590cba5181493a6">moda_lushr::lus</a>, <a class="el" href="namespacemoda__msgcwd.html#aaf25479459e35ef12ce20eecfc632295">moda_msgcwd::msub</a>, <a class="el" href="namespacemoda__msgcwd.html#a43a1031d5c017c6f61ba6deabe22daad">moda_msgcwd::nmsg</a>, <a class="el" href="namespacemoda__msgcwd.html#ac477545b5d44685da84af7f23d7baa59">moda_msgcwd::nsub</a>, <a class="el" href="namespacemoda__nulbfr.html#a1b6c0eaf2305df7abddd8c6c66723526">moda_nulbfr::null</a>, <a class="el" href="openclosebf_8F90.html#aeef6f5d08d9631dbe92c1821a9d02903">posapx()</a>, <a class="el" href="dxtable_8F90.html#adc51a45a8d628c17cd4d749733df506b">readdx()</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="dxtable_8F90.html#ac8141d6ac66d21c3fd2be3251a6a40c3">writdx()</a>, <a class="el" href="openclosebf_8F90.html#ada4363a068f7df043d75b4519c55142f">wtstat()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

<p class="reference">Referenced by <a class="el" href="apxdx_8F90.html#ae072f0fa8326c098de4e6dfe2deef450">apxdx()</a>, <a class="el" href="binv_8F90.html#a7633b528a2b5299a4e2aa1c6f7e6e2e5">binv()</a>, <a class="el" href="cmpbqm_8F90.html#a757321e44a7c476abf5e5fb85384b7da">cmpbqm()</a>, <a class="el" href="copydata_8F90.html#a6df688983642d7845688aba3819c847e">copybf()</a>, <a class="el" href="s013vals_8F90.html#a311f8836440703db774ee651425337b4">datebf()</a>, <a class="el" href="s013vals_8F90.html#ac2e40c9d462d2855dd693d9498f55342">dumpbf()</a>, <a class="el" href="debufr_8F90.html#abd70421a18d899bec6fbdade1262dd0b">fdebufr_c()</a>, <a class="el" href="gettab_8F90.html#ac9eda42ec8bf46baae0a4f34cd517813">gettab()</a>, <a class="el" href="mesgbc_8f.html#a94b2ff31250eb562ee4fe3c5c231e98b">mesgbc()</a>, <a class="el" href="mesgbf_8f.html#a01bf48e41499c9083c3c651d1dd1ee20">mesgbf()</a>, <a class="el" href="namespacebufr__c2f__interface.html#a6a97fe37e5caced81c5c6b769644832d">bufr_c2f_interface::openbf_c()</a>, <a class="el" href="s013vals_8F90.html#ac8fa984389323f08dd1cbd3aa6b57da9">pkvs01()</a>, <a class="el" href="readwritesb_8F90.html#ad3f468fd2fbb1a36ebfff82d32674953">rdmgsb()</a>, <a class="el" href="readbp_8F90.html#ac55f7a6af2af963791bb395c6dcc331b">readbp()</a>, <a class="el" href="readmp_8F90.html#a0b84a15ad24b7d8dfbef402295b8b650">readmp()</a>, <a class="el" href="sinv_8F90.html#add80e304e2ffa251811ac6a19162f807">sinv()</a>, <a class="el" href="split__by__subset_8F90.html#ae5d45e2086aa783d8ca85e2fd47c8118">split_by_subset()</a>, <a class="el" href="ufbinx_8f.html#a4014acd8639acf687abe1cd69efad1d4">ufbinx()</a>, <a class="el" href="memmsgs_8F90.html#a4959c5f16b679cf4f90b2d5dcfe74247">ufbmem()</a>, <a class="el" href="memmsgs_8F90.html#a9072ba79bf636849068780fa6467282c">ufbmex()</a>, and <a class="el" href="ufbtab_8f.html#a5e4e72f944670059a938e246717e5ad9">ufbtab()</a>.</p>

</div>
</div>
<a id="aeef6f5d08d9631dbe92c1821a9d02903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeef6f5d08d9631dbe92c1821a9d02903">&#9670;&nbsp;</a></span>posapx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine posapx </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunxx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Position an output BUFR file for appending. </p>
<p>Read to the end of the file pointed to by abs(lunxx) and position it for appending. The file must have already been opened for output operations. If lunxx &lt; 0, then the file is not backspaced before being positioned for append.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunxx</td><td>- Absolute value is Fortran logical unit number for BUFR file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="openclosebf_8F90_source.html#l00630">630</a> of file <a class="el" href="openclosebf_8F90_source.html">openclosebf.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="namespacemoda__mgwa.html#abe572c04d3aa498e8135d20e656d0e6a">moda_mgwa::mgwa</a>, <a class="el" href="dxtable_8F90.html#aef89e4de1387c4bcdeda0a64e8c6d308">rdbfdx()</a>, <a class="el" href="readwritemg_8F90.html#ac23041847910e299fa2c89962597a312">rdmsgw()</a>, and <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>.</p>

<p class="reference">Referenced by <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d">openbf()</a>.</p>

</div>
</div>
<a id="abceda08f9c29378d3ddadeb46e823d00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abceda08f9c29378d3ddadeb46e823d00">&#9670;&nbsp;</a></span>status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine status </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>lun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>il</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>im</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether a specified Fortran logical unit number is currently connected to the NCEPLIBS-bufr software. </p>
<p>If the unit number is already connected, then the subroutine returns information about the associated file. Otherwise, it returns the next available file ID that could be used to connect the associated file to the software via a subsequent call to subroutine <a class="el" href="openclosebf_8F90.html#ada4363a068f7df043d75b4519c55142f" title="Update file status in library internals.">wtstat()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">lun</td><td>- File ID associated with lunit<ul>
<li>0 = lunit is not already connected to the software, <b>and</b> there is no remaining internal space available that could be used to connect it </li>
</ul>
</td></tr>
    <tr><td class="paramname">il</td><td>- File status:<ul>
<li>0 = lunit is not already connected to the software, but lun contains a file ID that could be used to connect it via a subsequent call to subroutine <a class="el" href="openclosebf_8F90.html#ada4363a068f7df043d75b4519c55142f" title="Update file status in library internals.">wtstat()</a></li>
<li>1 = lunit is already connected to the software for output operations (i.e. writing/encoding BUFR)</li>
<li>-1 = lunit is already connected to the software for input operations (i.e. reading/decoding BUFR) </li>
</ul>
</td></tr>
    <tr><td class="paramname">im</td><td>- Message status, indicating whether there is already a message open within internal arrays for lunit:<ul>
<li>0 = No</li>
<li>1 = Yes</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="openclosebf_8F90_source.html#l00405">405</a> of file <a class="el" href="openclosebf_8F90_source.html">openclosebf.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__stbfr.html#aa6ed42f02eb5933c83e7acf1422b8d99">moda_stbfr::iolun</a>, <a class="el" href="namespacemoda__stbfr.html#ac23d0e71777440374b51773ab34d31c7">moda_stbfr::iomsg</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

<p class="reference">Referenced by <a class="el" href="openclosebf_8F90.html#a48a49bb82348400c1ba6af00c0138ab3">closbf()</a>, <a class="el" href="readwritemg_8F90.html#a63b37b74d9833df9d99e3937a2fa293a">closmg()</a>, <a class="el" href="copydata_8F90.html#a6df688983642d7845688aba3819c847e">copybf()</a>, <a class="el" href="copydata_8F90.html#aedfe2559c1f9c59ec85c11993b378e7e">copymg()</a>, <a class="el" href="copydata_8F90.html#a81eba6ff34f0a5020bf311ccf24d8efc">copysb()</a>, <a class="el" href="memmsgs_8F90.html#a28854648f33f49aaeb3b2209e00c0ae7">cpdxmm()</a>, <a class="el" href="copydata_8F90.html#ad102179380a6543e1ec7af4c1ba1fdde">cpymem()</a>, <a class="el" href="s013vals_8F90.html#a311f8836440703db774ee651425337b4">datebf()</a>, <a class="el" href="readwriteval_8F90.html#a8a84d615371869d93f16c8617575dee2">drfini()</a>, <a class="el" href="s013vals_8F90.html#ac2e40c9d462d2855dd693d9498f55342">dumpbf()</a>, <a class="el" href="dumpdata_8F90.html#ac693ae3d5af0a71505d5f9305c86fdb8">dxdump()</a>, <a class="el" href="getabdb_8f.html#a5a224df0ff920fff5ce7adc7a78ccf39">getabdb()</a>, <a class="el" href="mastertable_8F90.html#af113e7ee7e2023cd466c2b28616cd64a">getcfmng()</a>, <a class="el" href="gettab_8F90.html#ac9eda42ec8bf46baae0a4f34cd517813">gettab()</a>, <a class="el" href="gettagpr_8f.html#afa95ba65c1f04061bcc67bfc42f2591e">gettagpr()</a>, <a class="el" href="bitmaps_8F90.html#a867a81be072effc2a9d2de0d6031e264">gettagre()</a>, <a class="el" href="readwriteval_8F90.html#a10cd831e6dc0a773534c5c2787da56c8">getvalnb()</a>, <a class="el" href="ifbget_8f.html#a02c005f3f5bbddec11cdfee46beaa12f">ifbget()</a>, <a class="el" href="misc_8F90.html#a5b379fcc508f3f50fa71042b8e3645af">igetsc()</a>, <a class="el" href="invmrg_8f.html#a11b608bddc0c6ad660ff50ed461d5266">invmrg()</a>, <a class="el" href="s013vals_8F90.html#a3b1a6e580f306826c680ff0a71d883f8">iupvs01()</a>, <a class="el" href="readwritesb_8F90.html#acd820000e0fca0bc8d4ca0abac7b81fd">lcmgdf()</a>, <a class="el" href="mesgbc_8f.html#a94b2ff31250eb562ee4fe3c5c231e98b">mesgbc()</a>, <a class="el" href="s013vals_8F90.html#a70447e085c4523fa53796c5317f63ae8">minimg()</a>, <a class="el" href="readwritemg_8F90.html#af49a08bdf36b69217da7571dcfc90624">msgwrt()</a>, <a class="el" href="dxtable_8F90.html#ad6352a1c1fdec4ba0adb0173781e4542">nemdefs()</a>, <a class="el" href="jumplink_8F90.html#a6ec2d1015cdc1315eb384ea92223e620">nemspecs()</a>, <a class="el" href="readwritemg_8F90.html#a7430cdcec381d86f72a4b60a6a7db982">nmsub()</a>, <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d">openbf()</a>, <a class="el" href="readwritemg_8F90.html#a5edbefade4e7194e4dd3ee42f394034b">openmb()</a>, <a class="el" href="readwritemg_8F90.html#a493ce59c1a2976e9714c2d9b283bdb11">openmg()</a>, <a class="el" href="openclosebf_8F90.html#aeef6f5d08d9631dbe92c1821a9d02903">posapx()</a>, <a class="el" href="memmsgs_8F90.html#a379c2ad518735b00eecff6ddcf32b278">rdmemm()</a>, <a class="el" href="memmsgs_8F90.html#a2687d7372647fc32c4713c7e9eb6d268">rdmems()</a>, <a class="el" href="readwritesb_8F90.html#ad3f468fd2fbb1a36ebfff82d32674953">rdmgsb()</a>, <a class="el" href="readwritemg_8F90.html#ac23041847910e299fa2c89962597a312">rdmsgw()</a>, <a class="el" href="dxtable_8F90.html#adc51a45a8d628c17cd4d749733df506b">readdx()</a>, <a class="el" href="readwritemg_8F90.html#aa2a7bf49cad422b474a24edd3a1cb232">readerme()</a>, <a class="el" href="readwriteval_8F90.html#aad0d9cae550b97bc950c739ff44ca6b2">readlc()</a>, <a class="el" href="readwritemg_8F90.html#aad947e23951efbcba54930d6f309e0a8">readmg()</a>, <a class="el" href="readwritesb_8F90.html#aeb1fdb4af8ca100d3d80c52a221f1de8">readns()</a>, <a class="el" href="readwritesb_8F90.html#ab4b6c52feffa76d2a4d8fab6e3547f3c">readsb()</a>, <a class="el" href="rewnbf_8f.html#a70ac3a628bb020054246ff3fb8392a96">rewnbf()</a>, <a class="el" href="tankrcpt_8F90.html#a5d6fa241d34622347252bf41b73d8610">rtrcpt()</a>, <a class="el" href="readwriteval_8F90.html#ac8bbcb32a65a5acdf50e0f5d835c6ac2">setvalnb()</a>, <a class="el" href="namespacebufr__c2f__interface.html#a233844a8f03de391d28d20a7bd5d8ef0">bufr_c2f_interface::status_c()</a>, <a class="el" href="standard_8F90.html#a543c53880e96f04934213352ea77a7ab">stndrd()</a>, <a class="el" href="openclosebf_8F90.html#aac1b87fbbb688e4f5e2120012eaee382">ufbcnt()</a>, <a class="el" href="copydata_8F90.html#aed892e851f07fc9bf94a2c58c809c09c">ufbcpy()</a>, <a class="el" href="ufbcup_8f.html#a634b4974ecc6ef3dfe0f4ee27084305b">ufbcup()</a>, <a class="el" href="dumpdata_8F90.html#ad4fdbfc4ae3890133d9204a881541a1a">ufbdmp()</a>, <a class="el" href="ufbevn_8f.html#a630c533559c08a5e7206499d174dedeb">ufbevn()</a>, <a class="el" href="ufbget_8f.html#ac8ce7862a6f53cee02ad052d341247e4">ufbget()</a>, <a class="el" href="ufbin3_8f.html#a8f7e7d94420398251429218892f6ca48">ufbin3()</a>, <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7">ufbint()</a>, <a class="el" href="ufbinx_8f.html#a4014acd8639acf687abe1cd69efad1d4">ufbinx()</a>, <a class="el" href="memmsgs_8F90.html#a4959c5f16b679cf4f90b2d5dcfe74247">ufbmem()</a>, <a class="el" href="memmsgs_8F90.html#af0432ae9b24903a84c35bcdbbab9b0f6">ufbmms()</a>, <a class="el" href="ufbovr_8f.html#a329577a745ed0bd9d6dcee2e3adac859">ufbovr()</a>, <a class="el" href="readwritesb_8F90.html#a178ebc9cfe70d3119632799fc3db25de">ufbpos()</a>, <a class="el" href="ufbqcd_8f.html#a65c0f87b2a9c7666057a269631f1bae7">ufbqcd()</a>, <a class="el" href="ufbqcp_8f.html#a39595280220d52ec11fc213be006d8be">ufbqcp()</a>, <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024">ufbrep()</a>, <a class="el" href="memmsgs_8F90.html#ae3e462b1a3f2d5af01807bdcded6a745">ufbrms()</a>, <a class="el" href="readwriteval_8F90.html#a4895b24addb0b3e23f5bd92fd891656e">ufbseq()</a>, <a class="el" href="readwriteval_8F90.html#a921e4820b81e9f33e28a0d0452785a14">ufbstp()</a>, <a class="el" href="ufbtab_8f.html#a5e4e72f944670059a938e246717e5ad9">ufbtab()</a>, <a class="el" href="memmsgs_8F90.html#aef5cd104e2b7ce86e852e4878c8efc9d">ufbtam()</a>, <a class="el" href="dumpdata_8F90.html#a20fa33f6e0fcb0816c4b070c73362539">ufdump()</a>, <a class="el" href="ftbvs_8F90.html#ac7a8caa03ed8a2ac40a541762ca7e917">upftbv()</a>, <a class="el" href="compress_8F90.html#a6936aeb7f52ecaaa76047564005946d9">wrcmps()</a>, <a class="el" href="dxtable_8F90.html#a81ea6d2408950b5728790bc8f8c80261">wrdxtb()</a>, <a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955">writlc()</a>, <a class="el" href="readwritesb_8F90.html#a4b62a40d2c2860279670bf59a68e8204">writsa()</a>, and <a class="el" href="readwritesb_8F90.html#aa2218d1cd25f8d558448bdc3061b3a04">writsb()</a>.</p>

</div>
</div>
<a id="aac1b87fbbb688e4f5e2120012eaee382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac1b87fbbb688e4f5e2120012eaee382">&#9670;&nbsp;</a></span>ufbcnt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbcnt </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>kmsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ksub</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current location of the file pointer within a BUFR file, in terms of a message number counting from the beginning of the file, and a data subset number counting from the beginning of that message. </p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>Logical unit lunit should have already been opened via a previous call to subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>. If lunit was opened for input operations, then kmsg is incremented with each call to any of the <a class="el" href="index.html#hierarchy">message-reading subroutines</a>, and ksub is incremented with each call to any of the <a class="el" href="index.html#hierarchy">subset-reading subroutines</a> for that message. Otherwise, if lunit was opened for output operations, then kmsg is incremented with each call to any of the <a class="el" href="index.html#hierarchy">message-writing subroutines</a>, and ksub is incremented with each call to any of the <a class="el" href="index.html#hierarchy">subset-writing subroutines</a> for that message.</li>
<li>The value returned for kmsg does <b>not</b> include any messages which contain DX BUFR tables information.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">kmsg</td><td>- Ordinal number of current message, counting from the beginning of the BUFR file, but not counting any messages which contain DX BUFR tables information </td></tr>
    <tr><td class="paramname">ksub</td><td>- Ordinal number of current data subset within (kmsg)th message, counting from the beginning of the message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="openclosebf_8F90_source.html#l00585">585</a> of file <a class="el" href="openclosebf_8F90_source.html">openclosebf.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="namespacemoda__msgcwd.html#a43a1031d5c017c6f61ba6deabe22daad">moda_msgcwd::nmsg</a>, <a class="el" href="namespacemoda__msgcwd.html#ac477545b5d44685da84af7f23d7baa59">moda_msgcwd::nsub</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

<p class="reference">Referenced by <a class="el" href="cmpbqm_8F90.html#a757321e44a7c476abf5e5fb85384b7da">cmpbqm()</a>, <a class="el" href="readbp_8F90.html#ac55f7a6af2af963791bb395c6dcc331b">readbp()</a>, and <a class="el" href="readwritesb_8F90.html#a178ebc9cfe70d3119632799fc3db25de">ufbpos()</a>.</p>

</div>
</div>
<a id="ada4363a068f7df043d75b4519c55142f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4363a068f7df043d75b4519c55142f">&#9670;&nbsp;</a></span>wtstat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine wtstat </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>il</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>im</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update file status in library internals. </p>
<p>This subroutine can be used to connect or disconnect a specified Fortran logical unit number to/from the NCEPLIBS-bufr software, and it can also be used to set or reset the internal message status associated with that logical unit number.</p>
<dl class="section note"><dt>Note</dt><dd>Before this subroutine is called to connect any lunit to the software, a previous call should have been made to subroutine <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00" title="Check whether a specified Fortran logical unit number is currently connected to the NCEPLIBS-bufr sof...">status()</a> to confirm that internal space is available to connect the associated file, as well as to obtain an lun value to use in connecting it. Once a file is connected, the corresponding lunit and lun values remain linked to each other for as long as the file is connected to the software.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">lun</td><td>- File ID associated with lunit </td></tr>
    <tr><td class="paramname">il</td><td>- File status update option:<ul>
<li>0 Disconnect lunit from the software</li>
<li>1 Connect lunit to the software for output operations (i.e. writing/encoding BUFR), if not already connected</li>
<li>-1 Connect lunit to the software for input operations (i.e. reading/decoding BUFR), if not already connected </li>
</ul>
</td></tr>
    <tr><td class="paramname">im</td><td>- Message status update option, indicating whether a message is currently open within the internal arrays for lunit:<ul>
<li>0 No</li>
<li>1 Yes</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="openclosebf_8F90_source.html#l00508">508</a> of file <a class="el" href="openclosebf_8F90_source.html">openclosebf.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="namespacemoda__stbfr.html#aa6ed42f02eb5933c83e7acf1422b8d99">moda_stbfr::iolun</a>, and <a class="el" href="namespacemoda__stbfr.html#ac23d0e71777440374b51773ab34d31c7">moda_stbfr::iomsg</a>.</p>

<p class="reference">Referenced by <a class="el" href="openclosebf_8F90.html#a48a49bb82348400c1ba6af00c0138ab3">closbf()</a>, <a class="el" href="readwritemg_8F90.html#a63b37b74d9833df9d99e3937a2fa293a">closmg()</a>, <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d">openbf()</a>, <a class="el" href="readwritemg_8F90.html#a5edbefade4e7194e4dd3ee42f394034b">openmb()</a>, <a class="el" href="readwritemg_8F90.html#a493ce59c1a2976e9714c2d9b283bdb11">openmg()</a>, <a class="el" href="memmsgs_8F90.html#a379c2ad518735b00eecff6ddcf32b278">rdmemm()</a>, <a class="el" href="readwritemg_8F90.html#aa2a7bf49cad422b474a24edd3a1cb232">readerme()</a>, <a class="el" href="readwritemg_8F90.html#aad947e23951efbcba54930d6f309e0a8">readmg()</a>, and <a class="el" href="rewnbf_8f.html#a70ac3a628bb020054246ff3fb8392a96">rewnbf()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="openclosebf_8F90.html">openclosebf.F90</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
